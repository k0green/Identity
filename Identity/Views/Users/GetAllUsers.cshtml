@model Identity.Models.UserModel

<form asp-controller="Users" asp-action="WhatToDo" method="post">
<nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3">
    <div class="container-fluid bg-dark text-light">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
            <ul class="navbar-nav flex-grow-1">
                <li class="nav-item">
                        <button type="submit" class="btn btn-primary" name="block" id="btnBlock" style="margin-left:20px">Block</button>
                </li>
                <li class="nav-item">
                        <button type="submit" class="btn btn-primary" name="unlock" id="btnUnlock" style="margin-left:20px">Unlock</button>
</li>
                <li class="nav-item">
                        <button type="submit" class="btn btn-primary" name="delete" id="btnDelete" style="margin-left:20px">Delete</button>
                </li>
            </ul>
        </div>
    </div>
</nav>

<table class="table table-bordered table-striped" id="myTable">
    <tr class="bg-dark text-light">
        <th>
            <p><label><input type="checkbox" class="largerCheckbox" id="checkAll" /> Check all</label></p>
        </th>
        <th>Id</th>
        <th>Name</th>
        <th>Email</th>
        <th>Registration time</th>
        <th>LastLogin Time</th>
        <th>Status</th>
    </tr>
    @foreach (var item in Model.Checkboxes)
    {

        <tr>
            <td><input id="checkbox_@item.Id" type="checkbox" class="largerCheckbox" checked="@item.IsChecked" name="UniqueName" value="@item.Id"></td>
            <td>@item.Id</td>
            <td>@item.UserName</td>
            <td>@item.Email</td>
            <td>@item.RegisterTime</td>
            <td>@item.LastLoginTime</td>
            <td>@item.RoleName</td>
        </tr>
    }
</table>
<input type="hidden" id="buttonName" name="buttonName" value="empty"/>

</form>
<p id="result" class="text-success"></p>


<script>
    $("#checkAll").change(function () {
        $("input:checkbox").prop('checked', $(this).prop("checked"));
    });
</script>

<script>
    $(function () {
        $("button").on("click", function () {
            var id = $(this).attr("id");
            document.getElementById("buttonName").value = id;
        });
    });
</script>

